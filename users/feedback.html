<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" href="../favicon-32x32.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
          content="SoccerLogic | Feedback" />

    <!-- connect to domain of font files -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- optionally increase loading priority -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;700&display=swap">

    <!-- async CSS -->
    <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');" href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;700&display=swap">

    <!-- no-JS fallback -->
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;700&display=swap">
    </noscript>

    <title>SoccerLogic | Feedback</title>

    <link href="../shared.css" rel="stylesheet" />
    <link href="../index.css" rel="stylesheet" />

    <script src="https://kit.fontawesome.com/224f0fc815.js" crossorigin="anonymous"></script>
    <script src="../shared.js" defer></script>

    <script>
        function onSubmit() {
            if (this.checkValidity()) {
                summary_message.style.visibility = "visible";
                var timeLeft = 3000;
                var message = "Your feedback was sent. Thanks for contacting us!";
                summary_message.innerHTML = message + " Redirect in " + (timeLeft / 1000) + "s...";
                window.setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft -= 1000;
                        summary_message.innerHTML = message + " Redirect in " + (timeLeft / 1000) + "s...";
                    }
                    else {
                        window.location.replace("../index.html");
                    }
                }, 1000);
                submit_button.disabled = true;
                cancel_button.disabled = true;
            }
            event.preventDefault();
        }

        function onCancel() {
            window.location.replace("../index.html");
        }

        window.onload = (event) => {
            if (isAuth()) {
                var auth = getAuthInfo();
                if (auth.first_name)
                    first_name.value = auth.first_name;
                if (auth.last_name)
                    last_name.value = auth.last_name;
                if (auth.email)
                    email.value = auth.email;
            }
        };
    </script>
</head>
<body>
    <header>
        <div class="navigation-bar flex">
            <div class="left flex">
                <img id="menu" src="../images/icon-menu.svg" alt="icon menu" />
                <a class="flex logo" href="../index.html">
                    <img src="../images/logo.png" alt="logo" />
                    <h1>SoccerLogic</h1>
                </a>
                <ul class="navigation-menu flex">
                    <li>
                        <a href="../matches.html">Matches</a>
                    </li>
                    <li>
                        <a href="../table.html">Table</a>
                    </li>
                    <li>
                        <a href="../stats.html">Statistics</a>
                    </li>
                    <li>
                        <a href="../teams.html">Teams</a>
                    </li>
                    <li>
                        <a href="../players.html">Players</a>
                    </li>
                </ul>
                <div class="overlay"></div>
                <button id="menu-close-button" aria-label="Close menu button" class="flex">
                    <svg style="width: 0.896rem; height: 0.896rem; display: block;" viewBox="0 0 14 15" xmlns="http://www.w3.org/2000/svg"><path d="m11.596.782 2.122 2.122L9.12 7.499l4.597 4.597-2.122 2.122L7 9.62l-4.595 4.597-2.122-2.122L4.878 7.5.282 2.904 2.404.782l4.595 4.596L11.596.782Z" fillRule="evenodd" /></svg>
                </button>
            </div>
            <div class="right flex">
                <button id="league-selector" class="flex">
                    <div class="flex">
                        <img src="../images/Championships/Premier League.png" alt="">
                        <span>Premier League</span>
                    </div>
                    <svg viewBox="0 0 19 13" style="height: 0.6rem; fill: var(--active-text-color); vertical-align: middle;" xmlns="http://www.w3.org/2000/svg"><path d="M15.949.586l2.828 2.828-9.096 9.096L.586 3.414 3.414.586l6.267 6.267z" fill-rule="nonzero" /></svg>
                </button>
                <div class="vertical-flex popup hide" id="league-selector-popup">
                    <div class="content">
                        <ul>
                            <li class="active">
                                <img src="../images/Championships/Premier League.png" alt="">
                                <span>Premier League</span>
                            </li>
                            <li>
                                <img src="../images/Championships/Bundesliga.png" alt="">
                                <span>Bundesliga</span>
                            </li>
                            <li>
                                <img src="../images/Championships/La Liga.png" alt="">
                                <span>La Liga</span>
                            </li>
                            <li>
                                <img src="../images/Championships/Serie A.png" alt="">
                                <span>Serie A</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <button id="user" class="active">
                    <i class="fa-solid fa-user avatar"></i>
                </button>
                <div class="vertical-flex popup hide" id="user-menu">
                    <div class="content">
                        <ul>
                            <li id="sign_in">
                                <a href="../users/sign-in.html"><span>Sign In</span></a>
                            </li>
                            <li id="register">
                                <a href="../users/register.html"><span>Register</span></a>
                            </li>
                            <li>
                                <a href="../users/feedback.html"><span>Feedback</span></a>
                            </li>
                            <li id="sign_out">
                                <a href="#" onclick="(function () { clearAuthInfo(true); return false; })(); return false;">
                                    <span>Sign Out</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="container">
        <header class="hero">
            <h1>Feedback</h1>
        </header>
        <div class="flex" style="--gap: 0; margin-bottom: 2rem;">
            <form class="card" style="flex: 1;" onsubmit="onSubmit.call(this, event);">
                <div style="padding-bottom: 1rem; --gap: 1rem;" class="vertical-flex">
                    <div style="flex: 1; justify-content: space-between; padding-bottom: 0.5rem;" class="flex">
                        <div class="flex" style="--gap: 1rem; flex: 1;">
                            <label class="required" for="email">Email Address</label>
                            <input type="email" id="email" required style="flex: 1;" />
                        </div>
                        <div class="flex" style="--gap: 1rem; flex: 1;">
                            <label for="first_name">First Name</label>
                            <input type="text" id="first_name" style="flex: 1;" />
                        </div>
                        <div class="flex" style="--gap: 1rem; flex: 1;">
                            <label for="last_name">Last Name</label>
                            <input type="text" id="last_name" style="flex: 1;" />
                        </div>
                    </div>
                    <hr />
                    <div class="grid" style="grid-template-columns: auto 1fr;">
                        <label for="rate">
                            Rate the overall experience (0=poor &#8594; 10=great)
                        </label>
                        <input type="range" value="5" step="1" min="0" max="10" id="rate" />
                        <label for="commBox">Tell us more about your experience!</label>
                        <textarea name="custExp" id="commBox" rows="5"></textarea>
                    </div>
                    <div id="summary_message" class="highlight" style="text-align: center;">&nbsp;</div>
                </div>
                <div style="text-align: center;">
                    <button id="submit_button" class="form-button" type="submit" style="width: 25%; margin-right: 1rem;">Submit</button>
                    <button id="cancel_button" class="form-button" style="width: 25%;" onclick="onCancel.call(this, event);">Cancel</button>
                </div>
            </form>
        </div>
    </main>
    <footer class="flex">
        <div>
            <a class="flex logo" href="../index.html">
                <img src="../images/logo.png" alt="logo" />
                <h1>SoccerLogic</h1>
            </a>
        </div>
        <div>A GitHub <a href="https://github.com/NhatTanVu/soccer-logic" target="_blank">project</a></div>
        <div>Developed by: <a href="https://www.linkedin.com/in/tanvu/" target="_blank">Nhat Tan Vu</a></div>
    </footer>
</body>
</html>